<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/man.css">
    <script src="../static/js/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="../static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../static/js/man.js"></script>
    <meta charset="UTF-8">
    <title>板卡调试系统</title>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <a href="{{ url_for('board') }}">
                <img src="../static/img/box-arrow-left.svg" alt="">
            </a>
            <a class="navbar-brand" href="#">继电器控制面板</a>
            <div class="row">
                <div class="col-auto">
                    <button type="button" class="btn btn-outline-light btn-sm" onclick="disconnect_all()">全部断开</button>
                </div>
                <div class="col-auto">
                    <div class="input-group">
                        <button type="button" class="btn btn-outline-light btn-sm" onclick="cond_select()">选中所有</button>
                        <label class="form-label" for="pos-select"></label>
                        <select class="form-select form-select-sm" id="pos-select">
                            <option selected value="1">通道1</option>
                            <option value="2">通道2</option>
                            <option value="3">通道3</option>
                            <option value="4">通道4</option>
                        </select>
                    </div>
                </div>
                <div class="col-auto">
                    <button type="button" class="btn btn-outline-success btn-sm" style="margin-right: 10px" onclick="document.getElementById('relayer_panel').submit()">提交</button>
                </div>
            </div>
        </div>
    </nav>
    <div class="container-fluid">
        <form method="post" id="relayer_panel">
            <table class="table table-striped table-hover" >
                {% for i in nums %}
                    {% set outer = loop %}
                <thead class="table-primary">
                    <tr>
                        <th style="text-align: left">
                            组{{ loop.index }}
                        </th>
                        <th>状态</th>
                        <th>操作</th>
                     </tr>
                </thead>
                <tbody>
                    {% for j in i %}
                    <tr>
                        <th scope="row">通道{{ loop.index }}</th>
                        {% if j == 1 %}
                        <td class="text-success">接通</td>
                        {% elif j == 0 %}
                        <td class="text-danger">断开</td>
                        {% endif %}
                        <td>
                            <div class="form-check">
                                <input class="form-check-input tunnl_switch tunnl_switch_{{ loop.index }}" type="radio" name="tunnl_switch_{{ outer.index }}" value={{ "%d%d" | format(outer.index0, loop.index0) }} id="ts_{{ outer.index }}_{{ loop.index }}">
                                <label class="form-label" for="ts_{{ outer.index }}_{{ loop.index }}">接通</label>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                    <tr>
                        <th scope="row">通道1～4</th>
                        <td>N/A</td>
                        <td>
                            <div class="form-check">
                                <input class="form-check-input tunnl_switch tunnl_switch_none" type="radio" name="tunnl_switch_{{ outer.index }}" value="{{ '%d' | format(outer.index0) }}n" checked>
                                <label class="form-label">不接通</label>
                            </div>
                        </td>
                    </tr>
                </tbody>
                {% endfor %}
            </table>
        </form>
    </div>
</body>
</html>
